---
title: UML常用类图
url: UML_3diagrame
date: 2017-07-17 16:10:06
categories: uml
tags: 
    - uml
    - diagrame
---


# 用例图
## 作用
对系统的使用方式分类.
## 用例图画法
1. 选择文件，新建项目
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/11.png)
2. 选择要保存的目录点击保存，在保存后会跳出选择模型的对话框，这里我选择Use Case，如果这里不选择模型，也可以在建立包的时候选择：
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/12.png)
<!--more-->
3. 点确定创建Use Case模型
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/13.png)
这里有默认建立模型包及相应的示范用例，这里对示范用例及用例图一般建包原则说明一下
Use Case Model图一般不直接画用例图，一般用来为各包的功能及世中有的用例做说明，如下图：
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/14.png)
Actors包一般用来放所有的参与者，并为各各参与者，在一般的用例图中参与都一般不多，所以可能不用再分包。
Primary Use Cases包一般用来存放所有的用例，可根据需求分包存放。
4. 下面使用手动方式创建一个Use Case项目
4.1. 新建项目（直接按上面的新建，保存）
4.2. 在选择模版的时候点取消，在右侧项目管理器中创建包
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/15.png)
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/16.png)
4.3. 输入名称并选择用例图标按确定
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/17.png)
4.4. 点击Model的+号，并选中刚建的包，还是点击刚才的建包按钮，会跳出新建模型包对话框,输入包名
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/18.png)
4.5. 在确定后跳出新建图标窗口，选择相应的模型
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/19.png)
4.6. 确定后就可看到项目管理器里新增了一个包和一张图表
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/20.png)
如果在新建包的时候没有选择自动添加新图标，则可以直接在项目浏览器中点第三个图标，一样会跳出新建图标窗口：
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/21.png)
5. 用同样方法创建主图的相应的包。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/22.png)
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/23.png)
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/24.png)

# 类图
## 作用
显示类和它们的相互关系。
## 如何画类图
1. 选择文件-新建项目，并选择一个位置点击保存
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/25.png)
图1
2. 在跳出来的选择模型窗口，这里可以选择Class
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/26.png)
图2
3. 模板生成的只是参考案例，这里可以不用模版，直接点右边的新建包即可创建一个默认包。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/27.png)
图3
4. 可以在包中创建一个主图表。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/28.png)
图4
5. 创建好图表后，一般会默认打开，如果没有默认打开就直接在图表上点击右键打开即可，如图
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/29.png)
6. 注意，现在开始建包和各包的图表及类了，如果项目不大，就直接建类，到时直接建立关系就行了，如果项目大的话都是要建包的，都统一建包统一都在Main图表中创建，如图
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/30.png)
7. 单击确定后弹出新新建图表窗口，一般名字和包名是一样的，直接确定即可，如图：
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/31.png)
8. 确定后，就建好一个包了，接下来创建各个包和各个包里的主图表，建好后如下：
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/32.png)
9. 现在双击进入主图表Main里的包，就可以直接进入包里面的主图表中了，可以在这里创建各个类，及接口。如果类关系可以在包中完成的，就可以直接在包中完成，要是涉及到多包的，一般建议到Main图表中完成。Main主图表中是不能直接看到其它包中的单个类的，只能看到包及包中含有的类。如果要在主图表中画类图只能通过拖动方式，将包中的类拖到主图表中。
以下是建好的各包及各个类：
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/33.png)

## 如何画类关系
1. 首先将各个要关联的类拖入主图表中，如果不需要和其它包关联的就直接在包里的主图表中完成即可，注：拖放时会弹出对话框询问拖放类型，一般选择第一个，仅作为链接拖入，如图：
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/34.png)
2. 在左侧关系中一般只提供了基本的关系，可以先随便拖一个关系，然后再更改。这里直接在空白处右键创建一个依赖关系：
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/35.png)
点完后直接在类之间拖动，就完成了一个依赖关系的建立。

各关系的英文如下：
- Dependency依赖关系，由依赖的一方指向被依赖的一方。
- Association关联关系。
- Directed Association有方向的关联关系。
- Aggregation聚合
- Composition合成/组成
- Nest嵌套内部类
- Generalization泛化关系
- Realize实现

### 关联关系可以参考：
http://blog.csdn.NET/gfdonx/article/details/49539531

### 依赖关系一般场景：
- 第一种也是最常用的一种方式是将一个类的对象作为另一个类中方法的参数。
- 第二种方式是在一个类的方法中将另一个类的对象作为其局部变量。（注这里如果将变量提到属性中就变成了单向的关联关系了）
- 第三种方式是在一个类的方法中调用另一个类的静态方法。

### 关联关系一般场景：它是一种结构化关系，用于表示一类对象与另一类对象之间有联系
- 双向关联
例如：顾客(Customer)购买商品(Product)并拥有商品，反之，卖出的商品总有某个顾客与之相关联。
- 单向关联
通常单向关联是将一个类的对象作为另一个类的成员变量.
- 自关联
在系统中可能会存在一些类的属性对象类型为该类本身，这种特殊的关联关系称为自关联。
- 多重性关联
多重性关联关系又称为重数性(Multiplicity)关联关系，表示两个关联对象在数量上的对应关系

### 聚合关系一般场景:
聚合(Aggregation)关系表示整体与部分的关系。在聚合关系中，成员对象是整体对象的一部分，但是成员对象可以脱离整体对象独立存在。聚合关系都是一个对象是另一个对象的属性，并且在代码实现聚合关系时，成员对象通常作为构造方法、Setter方法或业务方法的参数注入到整体对象中。

### 组合关系一般场景:
组合(Composition)关系也表示类之间整体和部分的关系，但是在组合关系中整体对象可以控制成员对象的生命周期，一旦整体对象不存在，成员对象也将不存在，成员对象与整体对象之间具有同生共死的关系。而且部份的对像是不能单独存在的。或者说存在没有意义。成员对像的创建也都是在整体对象中完成的。

### 泛化关系一般场景:
泛化(Generalization)关系也就是继承关系，用于描述父类与子类之间的关系，父类又称作基类或超类，子类又称作派生类。

### 接口与实现关系一般场景:
接口之间也可以有与类之间关系类似的继承关系和依赖关系，但是接口和类之间还存在一种实现(Realization)关系，在这种关系中，类实现了接口，类中的操作实现了接口中所声明的操作。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/36.png)

![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/37.png)


## 代码工程的导入
1. 如果已经有写代码了，这里可以选择在主包上右键，代码工程，导入源文件和目录
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/38.png)
2. 通过导入的代码，及通过EA创建的类，需要再创建类关系，导入的有的类关系已经画好了，但还是不够完善，且导入的类图只有包中的关系，如果跨包则没有。



# 对象图
## 作用
只显示对象及它们的相互关系。
## 对象图和类图的区别
类每实例化一次，就会产生一个对象。
对象图描述一个系统在某个具体时刻的静态结构。而类图描述所有可能的情况（动态）。
对象图包含的元素：
- 对象 
- 连接
- 包


|类图|对象图|
|---|---|
|类具有3个分栏：名称、属性和操作|对象只有两个分栏：名称和属性|
|在类的名称分栏中只有类名|对象的名称形式为“对象名：类名”，匿名对象的名称形式为“：类名”|
|类的属性分栏定义了所有属性的特征|对象则只定义了属性的当前值，以便用于测试用例或例子中|
|类中列出了操作|对象图中不包括操作，因为对于同属于同一个类的对象而言，其操作是相同的|
|类使用关联连接，关联使用名称、角色、多重性以及约束等特征定义。类代表的是对对象的分类所以必须说明可以参与关联的对象的数目|对象使用链连接、链拥有名称、角色，但是没有多重性。对象代表的是单独的实体，所有的链都是一对一的，因此不涉及到多重性。|


# 活动图
## 作用
显示人或对象的活动，其方式类似于流程图。
活动图有一种叫做泳道图，能够清晰体现出某个动作发生在哪个部门或者说此动作发生在哪个模块，是经常被使用的一种UML图。
## 画法
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/1.png)
- 选中右侧菜单栏中的model，点击“New Model from Pattern”按钮。弹出选择模型窗口。此时选中“Business Process”模型。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/2.png)
- 点击“确定”按钮，可以发现右侧菜单栏中“Business Process Model”已经创建完成。此时我们可以在此模型下，创建我们要画的图了！
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/3.png)
- 在“Business Process Model”下，点击“New Diagram”按钮，选中“Activity”，并在“名称”一栏中输入图的名称。最后点击“确定”按钮，图创建完成，可以画泳道图了！
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/4.png)
- 此时，可以将泳道拉入画图区了。泳道在左侧菜单栏中的名称为“Partition”。拉入画图区后，需要调整一下方向。选中泳道后，点击右侧方向调整按钮。双击泳道，可以输入泳道的名称。点击确定按钮，一个泳道创建完成。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/5.png)
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/6.png)
- 选中泳道后，可以对其大小、位置等进行调整。依照步骤4可以再拖进两个泳道，形成三泳道。并依次输入各泳道的名称，调整其大小、位置。以达到比较好的视觉感受！
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/7.png)
- 有了泳道以后，我们需要加入流程图，真正形成比较完成的视图。因为泳道的主要功能就是可以比较清晰地看到各模块所完成的功能。画流程图时，会弯曲直线，在这里介绍一下。选中直线，点击鼠标右键，选中“在鼠标处弯曲线条”，此时可以弯曲此直线了。画完一个流程后，泳道图算是完成了！
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/8.png)
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/9.png)
- 泳道图画完后，一定要注意需要保存。保存完成后，可以点击菜单栏中的“编辑”->“复制”,此时可以将图复制到你需要的文档了。进入你的文档，只需要使用“Ctrl+C”，粘贴一下就可以了！
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/10.png)
- 

# 状态机图
## 作用
显示生命周期比较有趣或复杂的对象的各种状态。

# 通信图
## 作用
显示在某种情形下对象之间发送的消息。

# 时序图
## 作用
序列图表示了系统在参与者互动执行某一个用例期间，系统内部的一群对象的协作情况。一个用例就对应一个时序图。序列图是对系统动态行为进行描述。用于用例分析和设计阶段。
## 画法
- 打开 Enterprise Architect UML设计工具，开始画序列图。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/39.png)
- 选中“用例实验图”->“New Diagram”,打开新建图表窗口
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/40.png)
- 输入名称为“登录序列图”->"UML Behavioral"->"Sequence"，然后点击“确定”按钮，完成序列图的创建。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/41.png)
- 序列图创建后，双击打开，进入序列图绘制界面。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/42.png)
- 下面将以一个登录车票订购系统的流程为例进行说明。此系统是一个虚拟系统，并不是真实存在的。此序列图主要讲述的是如何登录车票订购系统。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/43.png)
- 画图时一个是需要注意返回消息使用虚线。其实只需要选中“是否返回”就可以了。
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/44.png)
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/45.png)
- 另一个是用到了fragment。此fragment是因为设置了不同条件才会用到的。相当于咱们编程的if else。一个是设置fragment的名称，一个是设置选项的条件。设置完成后，效果如下所示
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/46.png)
![](/UML%E7%9A%8413%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%BE%E5%8F%8A%E4%BD%9C%E7%94%A8/47.png)

# 包图
## 作用
显示相关的类如何组合，对开发人员有用。

# 部署图
## 作用
显示安装已完成系统的机器、过程和部署制品。

# 组件图
## 作用
显示可重用的组件（对象或子系统）及期接口。

# 交互总图
## 作用
使用顺序图喧赤活动的务个步骤。

# 时间图
## 作用
显示消息和对象状态的准确时间限制。

# 复合结构图
## 作用
显示对象在聚合或复合中的相互关系，显示接口和协作的对象